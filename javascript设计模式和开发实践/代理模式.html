<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title> 代理模式</title>
</head>

<body>
</body>
<script>

var imgurl = 'https://img.alicdn.com/tps/TB1ouuNNpXXXXa1XFXXXXXXXXXX-990-190.jpg_q70.jpg';
var myImage = (function() {
    var imgNode =  new Image//document.createElement('img');  //创建一个img节点

    document.body.appendChild(imgNode); // 将img节点放到documen上
    return { //返回一个方法,功能是 设置imgNode 的 src
        setSrc: function(src) {
            imgNode.src = src;
        }
    }
}());
//myImage.setSrc(imgurl)

var proxyImage = (function(){
	var proxyimg = new Image;//这里 new 出来的 image 是做什么用，
    proxyimg.onload = function(){
		myImage.setSrc(this.src);
	} //这个 img onload 是设置myImage的.
	return {
		setSrc:function(src){
			myImage.setSrc('https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1019107236,2319468473&fm=21&gp=0.jpg');
            proxyimg.src = src;
		}
	}
}())

proxyImage.setSrc(imgurl)
</script>

</html>
